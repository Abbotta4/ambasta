From 6e6bf5b50f67c5b0e6280565dca5268053bfc8ce Mon Sep 17 00:00:00 2001
From: Amit Prakash Ambasta <amit.prakash.ambasta@gmail.com>
Date: Thu, 8 Oct 2020 14:42:22 +0530
Subject: [PATCH] cmake should only export dependencies with which the project
 is built

---
 cmake/ortoolsConfig.cmake.in | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git a/cmake/ortoolsConfig.cmake.in b/cmake/ortoolsConfig.cmake.in
index 9708abf46..05d202363 100644
--- a/cmake/ortoolsConfig.cmake.in
+++ b/cmake/ortoolsConfig.cmake.in
@@ -27,13 +27,13 @@ endif()
 if(NOT Protobuf_FOUND AND NOT PROTOBUF_FOUND AND NOT TARGET protobuf::libprotobuf)
   find_dependency(Protobuf REQUIRED ${CONFIG_FLAG})
 endif()
-if(NOT scip_FOUND AND NOT TARGET libscip)
+if(USE_SCIP AND NOT scip_FOUND AND NOT TARGET libscip)
   find_dependency(scip REQUIRED ${CONFIG_FLAG})
 endif()
-if(NOT Clp_FOUND AND NOT TARGET Coin::ClpSolver)
+if(USE_COINOR AND NOT Clp_FOUND AND NOT TARGET Coin::ClpSolver)
   find_dependency(Clp REQUIRED ${CONFIG_FLAG})
 endif()
-if(NOT Cbc_FOUND AND NOT TARGET Coin::CbcSolver)
+if(USE_COINOR AND NOT Cbc_FOUND AND NOT TARGET Coin::CbcSolver)
   find_dependency(Cbc REQUIRED ${CONFIG_FLAG})
 endif()
 
-- 
2.28.0

